<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <title>Plots Tonight</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
  </head>

<script>

    function onSubmitPress(){
        text = document.getElementById("inputField").value;
        if (text != "" && text)
        {
            console.log("Recieved text of '" + text + "'!");
            unlockEvents();
            noInput();            
        }        
    }

    function unlockEvents(){
        blurDivs = Array.from(document.getElementsByClassName("blurDiv"));
        blurDivs.forEach(element => {
            element.style.backdropFilter = "none";
        });
    }

    function noInput(){
        promptDiv = document.getElementById("promptDiv");
        promptDiv.innerHTML = "";
        
        headerDiv = document.createElement("div");
        headerDiv.id = "promptBody";
        headerDiv.innerHTML = "Message sent!";

        bodyDiv = document.createElement("div");
        bodyDiv.id = "promptHead";
        bodyDiv.innerHTML = "Check out the 3 most popular events on Plots App!";

        promptDiv.append(headerDiv);
        promptDiv.append(bodyDiv);

        promptDiv.style.border = "1px solid rgba(48, 44, 63, 1)";
        promptDiv.style.borderRadius = "5px";
        promptDiv.style.padding = "10px";
        promptDiv.style.margin = "max(10px, auto)";
        promptDiv.style.marginTop = "10px";
        promptDiv.style.marginBottom = "10px";
        promptDiv.style.width = "auto";
        promptDiv.style.maxWidth = "350px";
        promptDiv.style.justifySelf = "center";

        document.getElementById("unlockDiv").remove();
        }

        function inputSuggestion(text){
            textarea = document.getElementById("inputField");
            
            if (textarea.value.trim() == ""){
                textarea.value = text;
                greySuggestion();
            }
        }

        function greySuggestion(){
            suggestions = Array.from(document.getElementsByClassName("inputSuggestion"));
            suggestions.forEach(element =>{
                element.style.color = "rgba(69, 74, 92, 1)";
                element.style.border = "1px solid rgba(69, 74, 92, 1)";
                element.style.backgroundImage = "linear-gradient(black, black)";
            });
            document.getElementById("sendBtn").classList.add("colorBtn");
            document.getElementById("btnImg").src = "./img/VectorWhite.svg";
        }

        function ungreySuggestion(){
            suggestions = Array.from(document.getElementsByClassName("inputSuggestion"));
            suggestions.forEach(element =>{
                element.style.color = "white";
                element.style.border = "1px solid transparent";
                element.style.backgroundImage = "linear-gradient(black, black), radial-gradient(circle at top left, #587AED 0.59%, #BA37D6 34.8%, #E228BB 68.33%, #587AED 100%)";
            });
        }
  </script>

  <style>
    html {
        background-color: #0e101b;
        background-image: linear-gradient(to right, #0e101b, #140914);
        overflow: hidden;
    }
    body {
        margin: 0; 
        padding: 0;
        height: 100%; 
    }
    #mainOutline{
        display: block; 
        justify-content: center;
    }
    #iconDiv {
        width: fit-content;
        margin: auto;
        /* justify-self: center; */
    }
    #icon{
        width: 35px;
        margin: auto;
        margin-top: 30px;
        text-align: center;
    }
    #pltTntIconDiv{
        justify-content: center;
        width: 200px;
        /* justify-self: center; */
        margin: auto;
        margin-top: 40px;
        margin-bottom: 30px;
    }
    #pltTntIconImg{
        margin: auto;
        text-align: center;
        width: 100%;
    }
    #usrOnlineDiv{
        padding: 0px;
        margin: auto;
        height: fit-content;
        width: 250px;
    }
    #usrImg{
        width: 100%;
    }
    #usrOnlineNumberDivDiv{
        margin: 0px;
    }
    #usrOnlineNumText{
        margin: 0px;
        color: limegreen;
        text-align: center;
        font-size: small;
        font-family: Poppins;
    }
    #promptDiv{
        width: 95%;
        max-width: 450px;
        margin: auto;
        margin-top: 25px;
    }
    #promptHead{
        color: white;
        font-family: Poppins;
        font-size: 24px;
        font-weight: 700;
        line-height: 36px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
    }
    #promptBody{
        color: rgba(162, 169, 194, 1);     
        font-family: Poppins;
        font-size: 14px;
        font-weight: 500;
        line-height: 21px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;

    }
    #inputDiv{
        width: 100%;
        height: 66px;
        margin: auto;
        position: relative;
    }
    #inputField{
        display: block;
        position: relative;
        background-color: #0e101b;
        box-sizing: border-box;
        border: 1px solid rgba(113, 120, 143, 1);
        color: white;
        border-radius: 5px;
        width: 100%;
        height: 66px;
        outline: none;
        resize: none;
    }
    #sendBtn {
        display: block;
        width: 28px;
        height: 28px;

        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 5px;

        background: rgba(69, 74, 92, 1);

        position: absolute; 
        
        bottom: 5px;
        right: 5px;
    }
    #btnImg{
        width: 15px;
        height: 15px;
        display: flex;
        justify-self: center;
        align-self: space-evenly;
        top: 4px;
        left: 2px;
    }
    #suggestionDiv {
        margin-top: 15px;
        display: flex;
        justify-content: space-between; /* Aligns children within the flex container */
        gap: 10px; /* Adds spacing between items */
        overflow-x: auto; /* Enable horizontal scrolling */
        white-space: nowrap; /* Prevent children from wrapping to the next line */

        /* padding: 10px; Add padding for better appearance */
        scroll-behavior: smooth; /* Smooth scrolling effect */
        max-width: 100%; /* Constrain the width of the scrolling area */
        /* border: 1px solid rgba(69, 74, 92, 1); Optional: add a border to distinguish the area */
        box-sizing: border-box; /* Include padding and border in the element's width/height */
        
        /* Hide scrollbar */
        scrollbar-width: none; /* For Firefox */
        -ms-overflow-style: none; /* For Internet Explorer and Edge */
    }

    #suggestionDiv::-webkit-scrollbar {
        display: none; /* For Chrome, Safari, and Edge */
    }
    .inputSuggestion {
        position: relative;
        display: inline-flex;
        align-items: center; /* Ensures text is vertically centered */
        justify-content: center; /* Centers text horizontally */
        padding: 1px 1px; 

        border: solid 1px transparent;
        border-radius: 8px;
        background-image: 
            linear-gradient(black, black), 
            radial-gradient(circle at top left, #587AED 0.59%, #BA37D6 34.8%, #E228BB 68.33%, #587AED 100%);
        background-origin: border-box;
        background-clip: content-box, border-box;
        color: white;

        font-family: Poppins, sans-serif;
        font-size: 14px;
        font-weight: 600;
        line-height: 1.5; /* Improves text readability */
        text-align: center;
        white-space: nowrap; /* Prevents text from wrapping */
        width: fit-content; /* Adjusts width to content */
        height: auto; /* Ensures height adapts to content */
    }
    .suggestionText{
        margin: 5px 8px;
        font-family: Poppins;
        font-size: 14px;
        font-weight: 500;
        line-height: 21px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
    }
    #unlockDiv{
        width: 350px;
        margin: auto;
    }
    .colorBtn{
        background: linear-gradient(97.61deg, #587AED 0.59%, #BA37D6 34.8%, #E228BB 68.33%, #F25C4F 100%) !important;
    }

    #eventsDiv{
        width: 98vw;
        max-width: 450px;
        margin: auto;

    }
    #eventsContainer{
        position: relative;
        width: 95vw;
        height: 150px;
        /* overflow: hidden; */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: auto;
    }

    #eventWrapper{
        display: flex;
        scroll-snap-type: x mandatory; /* Enable snapping */
        overflow-x: auto; /* Allow horizontal scrolling */
        width: 100%;
        height: 80%;
        scroll-behavior: smooth;

        /* Hide scrollbar */
        scrollbar-width: none; /* For Firefox */
        -ms-overflow-style: none; /* For Internet Explorer and Edge */
    }

    #eventWrapper::-webkit-scrollbar {
        display: none; /* For Chrome, Safari, and Edge */
    }
    .eventContainer{
        flex: 0 0 98%; /* Each item takes full width */
        height: 95%;
        display: flex;
        align-items: center;
        justify-content: left;
        color: white;
        font-size: 2rem;
        border: 1px solid rgba(113, 120, 143, 1);
        border-radius: 10px;
        scroll-snap-align: center; /* Snap to center */
        scroll-snap-stop: always; 
        width: 50vw;
        margin-right: 2px;
        padding: 2px;
    }
    #event1{
        
    }
    #event2{

    }   
    #event3{

    }
    .eventImg{
        height: 95%;
        overflow: hidden;
        border-radius: 10px;
        margin-left: 5px;
    }
    .lockStatus{

    }
    .eventTitle{

    }
    .attendingDiv{

    }
    .attendingPfp{

    }
    .attendingText{

    }
    .dot-indicator {
        /* position: absolute; */
        /* bottom: 20px; */
        margin-top: 10px;
        display: flex;
        gap: 10px;
    }
    .dot {
        width: 5px;
        height: 5px;
        border-radius: 50%;
        background-color: gray;
        transition: background-color 0.3s ease;
    }
    .dot.active {
        background-color: white;
    }
    #eventsTitle{
        margin: none;
    }
    #smallIcon{
        height: 15px;
    }
    #top3Events {        
        position: relative;
        display: inline-flex; 
        padding: 1px; 
        border: solid 1px rgba(113, 120, 143, 1); 
        border-radius: 5px; 
        background-image: linear-gradient(black, black);
        color: white;
        font-family: Poppins, sans-serif;
        font-size: 10px;
        font-weight: 600;
        line-height: 15px;
        text-align: center;
        background: none;
        width: 150px;
        padding: 3px;
        margin-left: 5px;
    }
    #top3Text{
        margin: auto;
        height: 15px;
        text-align: center;
        margin-top: 1px;
        margin-bottom: 1px;
        padding: 0;
    }
    .eventDiv{
        position: relative;
        width: 100%;
        height: fit-content;
        background: linear-gradient(180deg, rgba(8, 7, 10, 0) 15.57%, #08070A 81.8%);
        border: 1px solid rgba(69, 74, 92, 1);
        border-radius: 10px;
        margin-top: 20px;
        overflow: hidden;
        margin-bottom: 20px;
    }
    .blurDiv{
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        backdrop-filter: blur(64px);
        z-index: 5;
    }
    .eventNameImg{
        position: absolute;
        width: 100%;
        left: 0%;
        bottom: 25%;
    }
    .attendingEventImg{
        position: absolute;
        width: 100%;
        left: 0%;
        bottom: 0%;
        margin: 2px;
    }
    #eventsHeader{
        margin: none;
    }
    h1 {
        color: white;
    }
  </style>

  <body>
    <script src="index.js"></script>

    <div id="mainOutline">
        <div id="pltTntIconDiv">
            <img id="pltTntIconImg" src="./img/whatsplotstonight.png">
        </div>
        <div id="eventsDiv">
            <div id="top3Events">
                <img id="smallIcon" src="./img/icon.png">
                <p id="top3Text">Top 3 weekend events</p>
            </div>
            <div id = "eventsContainer">
                <div id="eventWrapper">
                    <div id="event1" class="eventContainer">
                        <img class="eventImg" src="./img/plotsEvent1.png">
                    </div>
                    <div id="event2" class="eventContainer">
                        <img class="eventImg" src="./img/plotsEvent2.png">
                    </div>
                    <div id="event3" class="eventContainer">
                        <img class="eventImg" src="./img/plotsEvent3.png">
                    </div>
                </div>
                <div class="dot-indicator">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
        </div>
        <div id="promptDiv">
            <div id="promptHead">
                Share your weekend plans to unlock the top 3 events!
            </div>
            <div id="inputDiv">
                <textarea id="inputField" type="text" placeholder="I'm gonna party!"></textarea>
                <button id="sendBtn" type="button" onclick="onSubmitPress()">
                    <img id="btnImg" src="./img/Vector.svg"></img>
                </button>
            </div>
            <div id="suggestionDiv">
                <div class="inputSuggestion" onclick="inputSuggestion('Out with friends')">
                    <p class="suggestionText"> 
                        Out with friends
                    </p>
                </div>
                <div class="inputSuggestion" onclick="inputSuggestion('Hitting the club')">
                    <p class="suggestionText">
                        Hitting the club
                    </p>
                </div>
                <div class="inputSuggestion" onclick="inputSuggestion('Dining out')">
                    <p class="suggestionText">
                        Dining out
                    </p>
                </div>
                <div class="inputSuggestion" onclick="inputSuggestion('Exploring')">
                    <p class="suggestionText">
                        Exploring
                    </p>
                </div>
            </div>
        </div>
        <div style="height: 20px;"></div>
    </div>

    <!-- <div class="eventDiv">
        <img class="eventImg" src="./img/plotsEvent1.png">
        <img class="eventNameImg" src="./img/eventName.png">
        <img class="attendingEventImg" src="./img/attendingEvent.png">
        <div class="blurDiv"></div>
    </div>
    <div class="eventDiv">
        <img class="eventImg" src="./img/plotsEvent2.png">
        <img class="eventNameImg" src="./img/eventName.png">
        <img class="attendingEventImg" src="./img/attendingEvent.png">
        <div class="blurDiv"></div>
    </div>
    <div class="eventDiv">
        <img class="eventImg" src="./img/plotsEvent3.png">
        <img class="eventNameImg" src="./img/eventName.png">
        <img class="attendingEventImg" src="./img/attendingEvent.png">
        <div class="blurDiv"></div>
    </div> -->


    <!-- <div id="usrOnlineDiv">
        <img id="usrImg" src="./img/activePfps.png">
        <div id="usrOnlineNumberDiv">
            <p id="usrOnlineNumText">
                99+ Users Online
            </p>
        </div>
    </div> -->

  </body>
  <script>
    document.getElementById("inputField").addEventListener("input", () => {
        if (document.getElementById("inputField").value.trim()) {
            document.getElementById("sendBtn").classList.add("colorBtn");
            document.getElementById("btnImg").src = "./img/VectorWhite.svg";
            greySuggestion();
        } else{
            document.getElementById("sendBtn").classList.remove("colorBtn");
            document.getElementById("btnImg").src = "./img/Vector.svg";
            ungreySuggestion();
        }
    });
  </script>
  <script>

    const eventWrapper = document.querySelector('#eventWrapper');
    const dots = document.querySelectorAll('.dot');

    // Update the active dot based on scroll position
    eventWrapper.addEventListener('scroll', () => {
        const scrollPosition = eventWrapper.scrollLeft;
        const itemWidth = eventWrapper.offsetWidth;

        // Determine the active index
        const activeIndex = Math.round(scrollPosition / itemWidth);

        // Update dot indicator
        dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === activeIndex);
        });
    });
  </script>
</html>
