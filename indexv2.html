<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <title>Plots Tonight</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
  </head>

<script>

    function onSubmitPress(){
        text = document.getElementById("inputField").value;
        if (text != "" && text)
        {
            console.log("Recieved text of '" + text + "'!");
            unlockEvents();
            noInput();            
        }        
    }

    function unlockEvents(){
        blurDivs = Array.from(document.getElementsByClassName("blur-overlay"));
        blurDivs.forEach(element => {
            element.style.backdropFilter = "none";
            element.style.backgroundColor = "rgba(0, 0, 0, 0)";
            if (element.children[0] != null){
                element.children[0].remove();
            }
        });
        blurDivs = Array.from(document.getElementsByClassName("textBlur"));
        blurDivs.forEach(element => {
            element.style.backdropFilter = "none";
        });
    }

    function noInput(){
        promptDiv = document.getElementById("promptDiv");
        promptDiv.remove();
        
        partyDiv = document.createElement("div");
        partyDiv.id = "partyDiv";
        
        partyGif = document.createElement("img");
        partyGif.src = "./img/party.gif";
        partyGif.id = "partyGif";

        partyText = document.createElement("p");
        partyText.id = "partyText";
        partyText.innerText = "Let's Party!";

        partyDiv.append(partyGif);
        partyDiv.append(partyText);
        document.getElementById("mainOutline").append(partyDiv);

        discoveringDiv = document.createElement("div");
        discoveringDiv.id = "discoveringDiv";

        discoveringImg = document.createElement("img");
        discoveringImg.id = "discoveringImg";
        discoveringImg.src = "./img/pfpsLarge.png";

        discoveringText = document.createElement("p");
        discoveringText.id = "discoveringText";
        discoveringText.innerText = '99+ discovering events this weekend';

        discoveringDiv.append(discoveringImg);
        discoveringDiv.append(discoveringText);

        document.getElementById("mainOutline").append(discoveringDiv);
    }

    function inputSuggestion(text){
        textarea = document.getElementById("inputField");
        
        if (textarea.value.trim() == ""){
            textarea.value = text;
            greySuggestion();
        }
    }

    function greySuggestion(){
        suggestions = Array.from(document.getElementsByClassName("inputSuggestion"));
        suggestions.forEach(element =>{
            element.style.color = "rgba(69, 74, 92, 1)";
            element.style.border = "1px solid rgba(69, 74, 92, 1)";
            element.style.backgroundImage = "linear-gradient(black, black)";
            element.style.cursor = "default";
        });
        document.getElementById("sendBtn").classList.add("colorBtn");
        document.getElementById("btnImg").src = "./img/VectorWhite.svg";
    }

    function ungreySuggestion(){
        suggestions = Array.from(document.getElementsByClassName("inputSuggestion"));
        suggestions.forEach(element =>{
            element.style.color = "white";
            element.style.border = "1px solid transparent";
            element.style.backgroundImage = "linear-gradient(black, black), radial-gradient(circle at top left, #587AED 0.59%, #BA37D6 34.8%, #E228BB 68.33%, #587AED 100%)";
            element.style.cursor = "pointer";
        });
    }
  </script>

  <style>
    html {
        background-color: #0e101b;
        background-image: linear-gradient(to right, #0e101b, #140914);
        /* overflow: hidden; */
    }
    body {
        margin: 0; 
        padding: 0;
        height: 100%; 
    }
    #mainOutline{
        display: block; 
        justify-content: center;
    }
    #iconDiv {
        width: fit-content;
        margin: auto;
        /* justify-self: center; */
    }
    #icon{
        width: 35px;
        margin: auto;
        margin-top: 30px;
        text-align: center;
    }
    #pltTntIconDiv{
        justify-content: center;
        width: 200px;
        /* justify-self: center; */
        margin: auto;
        margin-top: 20px;
    }
    #pltTntIconImg{
        margin: auto;
        text-align: center;
        width: 100%;
    }
    #usrOnlineDiv{
        padding: 0px;
        margin: auto;
        height: fit-content;
        width: 250px;
    }
    #usrImg{
        width: 100%;
    }
    #usrOnlineNumberDivDiv{
        margin: 0px;
    }
    #usrOnlineNumText{
        margin: 0px;
        color: limegreen;
        text-align: center;
        font-size: small;
        font-family: Poppins;
    }
    #promptDiv{
        width: 95%;
        max-width: 450px;
        margin: auto;
    }
    #promptHead{
        color: white;
        font-family: Poppins;
        font-size: 24px;
        font-weight: 700;
        line-height: 36px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
    }
    #promptBody{
        color: rgba(162, 169, 194, 1);     
        font-family: Poppins;
        font-size: 14px;
        font-weight: 500;
        line-height: 21px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;

    }
    #inputDiv{
        width: 100%;
        height: 66px;
        margin: auto;
        position: relative;
    }
    #inputField{
        display: block;
        position: relative;
        background-color: #0e101b;
        box-sizing: border-box;
        border: 1px solid rgba(113, 120, 143, 1);
        color: white;
        border-radius: 5px;
        width: 100%;
        height: 66px;
        outline: none;
        resize: none;
        font-size: 16px;
    }
    #sendBtn {
        display: flex;
        width: 28px;
        height: 28px;

        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 5px;

        background: rgba(69, 74, 92, 1);

        position: absolute; 
        
        bottom: 5px;
        right: 5px;

        align-items: center;
        justify-content: center;
    }
    #btnImg{
        position: relative;
        /* width: 15px; */
        height: 15px;
        display: flex;
    }
    #suggestionDiv {
        margin-top: 15px;
        display: flex;
        justify-content: space-between; /* Aligns children within the flex container */
        gap: 10px; /* Adds spacing between items */
        overflow-x: auto; /* Enable horizontal scrolling */
        white-space: nowrap; /* Prevent children from wrapping to the next line */

        /* padding: 10px; Add padding for better appearance */
        scroll-behavior: smooth; /* Smooth scrolling effect */
        max-width: 100%; /* Constrain the width of the scrolling area */
        /* border: 1px solid rgba(69, 74, 92, 1); Optional: add a border to distinguish the area */
        box-sizing: border-box; /* Include padding and border in the element's width/height */
        
        /* Hide scrollbar */
        scrollbar-width: none; /* For Firefox */
        -ms-overflow-style: none; /* For Internet Explorer and Edge */
    }

    #suggestionDiv::-webkit-scrollbar {
        display: none; /* For Chrome, Safari, and Edge */
    }
    .inputSuggestion {
        position: relative;
        display: inline-flex;
        align-items: center; /* Ensures text is vertically centered */
        justify-content: center; /* Centers text horizontally */
        padding: 1px 1px; 

        border: solid 1px transparent;
        border-radius: 8px;
        background-image: 
            linear-gradient(black, black), 
            radial-gradient(circle at top left, #587AED 0.59%, #BA37D6 34.8%, #E228BB 68.33%, #587AED 100%);
        background-origin: border-box;
        background-clip: content-box, border-box;
        color: white;

        font-family: Poppins, sans-serif;
        font-size: 17px;
        font-weight: 600;
        line-height: 1.5; /* Improves text readability */
        text-align: center;
        white-space: nowrap; /* Prevents text from wrapping */
        width: fit-content; /* Adjusts width to content */
        height: auto; /* Ensures height adapts to content */

        margin-bottom: 20px;

        cursor: pointer;

    }
    .suggestionText{
        margin: 5px 8px;
        font-family: Poppins;
        font-size: 14px;
        font-weight: 500;
        line-height: 21px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
    }
    #unlockDiv{
        width: 350px;
        margin: auto;
    }
    .colorBtn{
        background: linear-gradient(97.61deg, #587AED 0.59%, #BA37D6 34.8%, #E228BB 68.33%, #F25C4F 100%) !important;

        cursor: pointer;
    }

    #eventsDiv{
        width: 98vw;
        max-width: 450px;
        margin: auto;
    }
    #eventsContainer{
        position: relative;
        width: 95vw;
        max-width: 450px;
        /* height: 50vh; */
        display: flex;
        flex-direction: column;
        margin: auto;
    }

    #eventWrapper{
        display: flex;
        overflow-x: auto; /*Allow horizontal scrolling */
        width: 100%;
        height: 100%;
        margin-top: 10px;
        scroll-behavior: smooth;

        /* Hide scrollbar */
        scrollbar-width: none; /* For Firefox */
        -ms-overflow-style: none; /* For Internet Explorer and Edge */
    }
    #eventWrapper::-webkit-scrollbar {
        display: none; /* For Chrome, Safari, and Edge */
    }
    .eventContainer{
        flex: 0 0 60%; /* Each item takes full width */
        height: 100%;
        display: grid;
        grid-auto-rows: min-content; /* Ensures rows only take the space needed */
        grid-template-columns: 100%;
        grid-template-rows: 80% 10% 10%; 
        align-items: center;
        justify-content: left;
        color: white;
        font-size: 2rem;
        width: 50vw;
        margin-right: 2px;
        padding: 2px;
    }
    #event1{
        
    }
    #event2{

    }   
    #event3{

    }
    .eventImgDiv {
        display: block;
        position: relative;
        width: 100%;
        height: auto; /* Allow the height to adjust to the image */
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        overflow: hidden;
    }

    .eventImg {
        display: block; /* Remove any inline spacing from images */
        width: 100%; /* Scale image to fit the width of the container */
        height: auto; /* Maintain aspect ratio */
        object-fit: cover; /* Ensures image fits the container while keeping its aspect ratio */
    }
    .titleDiv{
        position: relative;
        grid-row: 2;
        white-space: nowrap;
        height: 100%;
    }
    .eventTitle{
        font-family: Poppins;
        font-size: 16px;
        font-weight: 700;
        line-height: 24px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
        margin: 10px 0px 10px;
        text-overflow: ellipsis;
        overflow: hidden;
    }
    .attendingDiv{
        height: 30px;
        display: flex;
        flex-direction: row;
        align-content: space-around;
        /* justify-content: space-around; */
        grid-row: 3;
        width: 100%;
    }
    .attendingPfp{

    }
    .attendingText{
        height: 100%;
        align-content: center;
        color: rgba(81, 219, 80, 1);
        font-family: Poppins;
        font-size: 12px;
        font-weight: 500;
        line-height: 18px;
        text-align: center;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
        width: fit-content;
        margin: 0;
    }
    .blur-overlay {
        display: grid; /* Centers child elements in the container */
        position: absolute;
        top: 0;
        left: 0;
        width: 100%; /* Fill the parent container */
        height: 100%; /* Fill the parent container */
        backdrop-filter: blur(10px); 
        -webkit-backdrop-filter: blur(10px); 
        z-index: 1; /* Ensure it's on top of content */
        pointer-events: none; /* Prevent interaction with the overlay */
        background-color: rgba(0, 0, 0, 0.6);
    }

    .textBlur {
        display: grid; /* Centers child elements in the container */
        position: absolute;
        top: 0;
        left: 0;
        width: 100%; /* Fill the parent container */
        height: 100%; /* Fill the parent container */
        backdrop-filter: blur(10px); 
        -webkit-backdrop-filter: blur(10px); 
        z-index: 1; /* Ensure it's on top of content */
        pointer-events: none; /* Prevent interaction with the overlay */
        border-radius: 8px; /* Add rounding to soften the edges */
        overflow: hidden; /* Prevent sharp edges from showing outside the boundaries */
    }

    .blurOverlayImg {
        position: relative;
        max-width: 70%; /* Ensure the image doesn't become too large */
        max-height: 70%; /* Restrict height to keep aspect ratio */
        width: auto; /* Maintain the natural aspect ratio */
        height: auto; /* Maintain the natural aspect ratio */
        justify-self: center; /* Center the image horizontally */
        align-self: center; /* Center the image vertically */
    }

    #partyDiv{
        display: flex;
        height: 32px;
        margin-top: 20px;
        margin-bottom: 20px;
        width: 100%;
        align-content: center;
        justify-content: center;
        flex-direction: row;
    }
    #partyGif{
        height: 100%;
        margin-right: 5px;
    }
    #partyText{
        margin: 0;
        align-content: center;
        color: white;
        font-family: Poppins;
        font-size: 16px;
        font-weight: 700;
        line-height: 16px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
    }
    #eventsTitle{
        margin: none;
    }
    #smallIcon{
        height: 15px;
    }
    #top3Events {        
        position: relative;
        display: inline-flex; 
        padding: 1px; 
        border: solid 1px rgba(69, 74, 92, 1); 
        border-radius: 5px; 
        background-image: linear-gradient(black, black);
        color: white;
        font-family: Poppins, sans-serif;
        font-size: 12px;
        font-weight: 600;
        line-height: 15px;
        text-align: center;
        background: none;
        width: 170px;
        padding: 3px;
        margin-left: 5px;
    }
    #top3Text{
        margin: auto;
        height: 15px;
        text-align: center;
        margin-top: 1px;
        margin-bottom: 1px;
        padding: 0;
    }
    .eventDiv{
        position: relative;
        width: 100%;
        height: fit-content;
        background: linear-gradient(180deg, rgba(8, 7, 10, 0) 15.57%, #08070A 81.8%);
        border: 1px solid rgba(69, 74, 92, 1);
        border-radius: 10px;
        margin-top: 20px;
        overflow: hidden;
        margin-bottom: 20px;
    }
    .blurDiv{
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        backdrop-filter: blur(64px);
        z-index: 5;
    }
    .eventNameImg{
        position: absolute;
        width: 100%;
        left: 0%;
        bottom: 25%;
    }
    .attendingEventImg{
        position: absolute;
        width: 100%;
        left: 0%;
        bottom: 0%;
        margin: 2px;
    }
    #eventsHeader{
        margin: none;
    }
    #discoveringDiv{
        width: 98%;
        max-width: 450px;
        margin: auto;
        margin-bottom: 20px;
        display: grid;
        display: absolute;
    }
    #discoveringImg{
        /* height: 20px; */
        position: relative;
        width: 75%;
        margin: auto;
        justify-self: center;
    }
    #discoveringText{
        font-family: Poppins;
        font-size: 16px;
        font-weight: 500;
        line-height: 24px;
        text-align: center;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
        color: rgba(81, 219, 80, 1);
        margin: 0;
    }

    h1 {
        color: white;
    }
  </style>

  <body>
    <div id="mainOutline">
        <div id="pltTntIconDiv">
            <img id="pltTntIconImg" src="./img/whatsplotstonight.png">
        </div>
        <div id="eventsDiv">
            <div id="top3Events">
                <img id="smallIcon" src="./img/icon.png">
                <p id="top3Text">Top 3 weekend events</p>
            </div>
            <div id = "eventsContainer">
                <div id="eventWrapper">
                    <div id="event1" class="eventContainer">
                        <div class="eventImgDiv">
                            <img class="eventImg" src="./img/plotsEvent1.png">
                            <div class="blur-overlay">
                                <img class="blurOverlayImg" src="./img/blurOverlay.png">
                            </div>
                        </div>
                        <div class="titleDiv">
                            <p class="eventTitle">ALIVE: Underwear x New Life</p>
                            <div class="textBlur"></div>
                        </div>
                        <div class="attendingDiv">
                            <img class="attendingPfp" src="./img/v2Pfp.png">
                            <p class="attendingText">200+ attendees</p>
                        </div>
                    </div>
                    <div id="event2" class="eventContainer">
                        <div class="eventImgDiv">
                            <img class="eventImg" src="./img/plotsEvent2.png">
                            <div class="blur-overlay">
                                <img class="blurOverlayImg" src="./img/blurOverlay.png">
                            </div>
                        </div>
                        <div class="titleDiv">
                            <p class="eventTitle">ALIVE: Underwear x New Life</p>
                            <div class="textBlur"></div>
                        </div>
                        <div class="attendingDiv">
                            <img class="attendingPfp" src="./img/v2Pfp.png">
                            <p class="attendingText">200+ attendees</p>
                        </div>
                    </div>
                    <div id="event3" class="eventContainer">
                        <div class="eventImgDiv">
                            <img class="eventImg" src="./img/plotsEvent3.png">
                            <div class="blur-overlay">
                                <img class="blurOverlayImg" src="./img/blurOverlay.png">
                            </div>
                        </div>
                        <div class="titleDiv">
                            <p class="eventTitle">ALIVE: Underwear x New Life</p>
                            <div class="textBlur"></div>
                        </div>
                        <div class="attendingDiv">
                            <img class="attendingPfp" src="./img/v2Pfp.png">
                            <p class="attendingText">200+ attendees</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="promptDiv">
            <div id="promptHead">
                Share your weekend plans to unlock the top 3 events!
            </div>
            <div id="inputDiv">
                <textarea id="inputField" type="text" placeholder="I'm gonna party!"></textarea>
                <button id="sendBtn" type="button" onclick="onSubmitPress()">
                    <img id="btnImg" src="./img/Vector.svg"></img>
                </button>
            </div>
            <div id="suggestionDiv">
                <div class="inputSuggestion" onclick="inputSuggestion('Out with friends')">
                    <p class="suggestionText"> 
                        Out with friends
                    </p>
                </div>
                <div class="inputSuggestion" onclick="inputSuggestion('Hitting the club')">
                    <p class="suggestionText">
                        Hitting the club
                    </p>
                </div>
                <div class="inputSuggestion" onclick="inputSuggestion('Dining out')">
                    <p class="suggestionText">
                        Dining out
                    </p>
                </div>
                <div class="inputSuggestion" onclick="inputSuggestion('Exploring')">
                    <p class="suggestionText">
                        Exploring
                    </p>
                </div>
            </div>
        </div>
    </div>

  </body>
  <script>
    document.getElementById("inputField").addEventListener("input", () => {
        if (document.getElementById("inputField").value.trim()) {
            document.getElementById("sendBtn").classList.add("colorBtn");
            document.getElementById("btnImg").src = "./img/VectorWhite.svg";
            greySuggestion();
        } else{
            document.getElementById("sendBtn").classList.remove("colorBtn");
            document.getElementById("btnImg").src = "./img/Vector.svg";
            ungreySuggestion();
        }
    });
  </script>
  <script>
  </script>
</html>
